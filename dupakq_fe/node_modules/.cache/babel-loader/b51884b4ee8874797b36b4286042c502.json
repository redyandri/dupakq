{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useWriteTransaction = exports.useReadTransaction = exports.useTransaction = void 0;\nvar react_1 = require(\"react\");\nvar neo4j_driver_1 = __importDefault(require(\"neo4j-driver\"));\nvar neo4j_context_1 = require(\"./neo4j.context\");\nexports.useTransaction = function (defaultAccessMode, database) {\n  var driver = react_1.useContext(neo4j_context_1.Neo4jContext).driver;\n  if (!driver) throw new Error('`driver` not defined. Have you added it into your app as <Neo4jContext.Provider value={{driver}}> ?');\n  var session = driver.session({\n    database: database,\n    defaultAccessMode: defaultAccessMode\n  });\n  var transaction = session.beginTransaction();\n  return {\n    transaction: transaction,\n    run: transaction.run,\n    commit: transaction.commit,\n    rollback: transaction.commit\n  };\n};\nexports.useReadTransaction = function (database) {\n  return exports.useTransaction(neo4j_driver_1.default.session.READ, database);\n};\nexports.useWriteTransaction = function (database) {\n  return exports.useTransaction(neo4j_driver_1.default.session.WRITE, database);\n};","map":null,"metadata":{},"sourceType":"script"}